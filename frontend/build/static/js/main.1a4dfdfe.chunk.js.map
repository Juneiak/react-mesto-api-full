{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/constants.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteConfirmPopup.js","components/Content.js","images/ok.svg","images/error.svg","components/InfoTooltip.js","components/Login.js","components/Register.js","images/Vector-2.svg","images/closeIcon.svg","images/burger.svg","components/Header.js","components/hocs/ProtectedRoute.js","utils/mestoAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","onCardClick","card","onCardLike","onCardDeleteClick","useState","isOwn","setIsOwn","currentUser","useContext","isLiked","likes","some","liked","_id","useEffect","owner","className","onClick","type","id","src","link","alt","name","length","Main","props","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","currentYear","Date","getFullYear","ImagePopup","closePopupByESC","evt","key","onClose","document","addEventListener","removeEventListener","target","classList","contains","apiOptions","baseUrl","api","options","this","_options","res","ok","json","Promise","reject","status","token","localStorage","getItem","fetch","method","headers","then","_checkStatus","dataForEdit","body","JSON","stringify","dataForAdd","cardId","likeStatus","newAvatarUrl","PopupWithForm","isOpen","onSubmit","children","title","isLoading","loading","buttonPlaceholder","currentTarget","noValidate","EditProfilePopup","changeName","description","changeDescription","preventDefault","onUpdateUser","minLength","onChange","value","maxLength","required","placeholder","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeName","setPlaceName","placePhotoUrl","setPlacePhotoUrl","handlePopupClear","DeleteConfirmPopup","setIsLoading","onCardDelete","cardToDelete","Content","isEditProfilePopupOpen","editProfileState","isAddPlacePopupOpen","addPlaceState","isEditAvatarPopupOpen","editAvatarState","selectCardToDelete","selectedCard","selectedCardState","setUserInfo","setCards","closeAllPopups","a","getUserProfileData","userData","data","console","error","getInitialCards","initialCards","reverse","setData","setInitialCards","Provider","cardData","updatedCard","newArray","c","filter","user","push","toggleLike","newProfileData","editPrifile","updatedProfileData","updateProfile","newCardData","clearPopup","addCard","newCard","catch","e","changeAvatar","updateAvatar","deleteCard","InfoTooltip","okImage","errorImage","okStatus","Login","email","setEmail","password","setPassword","history","useHistory","isPopupOpen","onPopupClose","Register","to","Header","loggedIn","isDropdownOpen","toggleDropdown","location","useLocation","logo","pathname","onSignOut","removeItem","style","backgroundImage","closeIcon","burgerIcon","ProtectedRoute","Component","component","path","checkResponse","err","App","toggleLogin","isInfoPopupOpen","toggleInfoPopup","popupStatus","togglePopupStatus","accountData","setAccountData","handleInfoPopupWithStatus","handlePopupClose","response","mestoAuth","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1a4dfdfe.chunk.js","sourcesContent":["import React from 'react';\r\n  \r\nconst CurrentUserContext = React.createContext()\r\n\r\nexport default CurrentUserContext","import CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport React from \"react\";\r\n\r\nfunction Card({onCardClick, card, onCardLike, onCardDeleteClick}) {\r\n  const [isOwn, setIsOwn] = React.useState(false);\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isLiked = card.likes.some(liked => liked._id === currentUser._id)\r\n\r\n  React.useEffect(() => {\r\n    setIsOwn(card.owner._id === currentUser._id);\r\n  }, [card, currentUser])\r\n\r\n  function handleClick() {\r\n    onCardClick(card)\r\n  }\r\n  \r\n  function handleLikeClick() {\r\n    onCardLike(card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDeleteClick(card)\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button onClick={handleDeleteClick} className={`element__delete-button ${!isOwn && 'element__delete-button_hidden'} button-animation`} type=\"button\" id=\"delete-card\"></button>\r\n      <img className=\"element__image\" src={card.link} alt={`фотография ${card.name}`} onClick={handleClick} />\r\n      <div className=\"element__about\">\r\n        <h2 className=\"element__place-name\">{card.name}</h2>\r\n        <div>\r\n          <button onClick={handleLikeClick} className={`element__like-button ${isLiked && 'element__like-button_active'} button-animation button-animation_blackout-level_medium `}type=\"button\"></button>\r\n          <p className=\"element__like-amount\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__avatar-button\" onClick={props.onEditAvatar} type=\"button\"><img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар\" /></button>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <p className=\"profile__about\">{currentUser.about}</p>\r\n          <button className=\"profile__edit-button button-animation\" onClick={props.onEditProfile} type=\"button\"></button>\r\n        </div>\r\n        <button className=\"profile__add-button button-animation\" onClick={props.onAddPlace} type=\"button\"></button>\r\n      </section>\r\n    \r\n      <section className=\"elements\">\r\n        <ul className=\"elements__table\">\r\n        {props.cards.length > 0 \r\n        ? props.cards.map((card) => (\r\n          <Card key={card._id} onCardDeleteClick={props.onCardDeleteClick}  onCardLike={props.onCardLike} card={card} onCardClick={props.onCardClick}/>\r\n        ))\r\n        : <div>nothing to render</div>\r\n        }\r\n        </ul>\r\n      </section>\r\n  </main>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n\r\n  const currentYear = new Date().getFullYear()\r\n  \r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {currentYear} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from \"react\"\r\nfunction ImagePopup(props) {\r\n\r\n  function overlayClose(evt) {\r\n    if (evt.target.classList.contains('pop-up_opened')) {\r\n      props.onClose()\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n\r\n    function closePopupByESC(evt) {\r\n      if (evt.key === 'Escape') {\r\n        props.onClose()\r\n      }\r\n    }\r\n    \r\n    if (props.card) {\r\n      document.addEventListener('keydown', closePopupByESC)\r\n    }\r\n    \r\n    return () => {\r\n      document.removeEventListener('keydown', closePopupByESC)\r\n    }\r\n\r\n    \r\n  }, [props.card])\r\n\r\n  return (\r\n    <div className={`pop-up ${props.card && \"pop-up_opened\"}`} id=\"photo\" onClick={overlayClose}>\r\n      <figure className=\"pop-up__figure\">\r\n        <button className=\"pop-up__close-button button-animation\" onClick={props.onClose} type=\"button\" id=\"photo-close\"></button>\r\n        <img className=\"pop-up__image\" src={props.card && props.card.link} alt={`фотография ${props.card && props.card.name}`} />\r\n        <figcaption className=\"pop-up__caption\">{props.card && props.card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","export const apiOptions = {\r\n  baseUrl: 'http://api.projectmesto21.nomoredomains.club',\r\n}\r\n\r\n\r\nexport const settings = {\r\n  fieldSetSelector: '.pop-up__form-container',\r\n  inputSelector: '.pop-up__form-text-input',\r\n  submitButtonSelector: '.pop-up__form-button',\r\n  inactiveButtonClass: 'pop-up__form-button_inactive',\r\n  inputErrorClass: 'pop-up__form-text-input_type_error',\r\n  errorClass: 'pop-up__error_visible'\r\n};\r\n\r\n","import { apiOptions } from \"./constants\";\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._options = options;\r\n  }\r\n\r\n  _checkStatus(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    } else {\r\n      return Promise.reject(`Error: ${res.status}`)\r\n    }\r\n  }\r\n\r\n  getUserProfileData() {\r\n    const token = localStorage.getItem('jwt')\r\n    return fetch(`${this._options.baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._checkStatus)\r\n  };\r\n\r\n  getInitialCards() {\r\n    const token = localStorage.getItem('jwt')\r\n    return fetch(`${this._options.baseUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._checkStatus)\r\n  };\r\n\r\n  editPrifile(dataForEdit) {\r\n    const token = localStorage.getItem('jwt')\r\n    return fetch(`${this._options.baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: dataForEdit['name'],\r\n        about: dataForEdit['about']\r\n      })\r\n    })\r\n      .then(this._checkStatus)\r\n  }\r\n\r\n  addCard(dataForAdd) {\r\n    const token = localStorage.getItem('jwt')\r\n    return fetch(`${this._options.baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: dataForAdd['name'],\r\n        link: dataForAdd['link']\r\n      })\r\n    })\r\n      .then(this._checkStatus)\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    const token = localStorage.getItem('jwt')\r\n    return fetch(`${this._options.baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._checkStatus)\r\n      \r\n  };\r\n  \r\n  likeStatus(cardId, likeStatus) {\r\n    const token = localStorage.getItem('jwt')\r\n    const method = likeStatus ? 'PUT' : 'DELETE';\r\n    \r\n    return fetch(`${this._options.baseUrl}/cards/${cardId}/likes`, {\r\n      method: method,\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._checkStatus)\r\n  }\r\n\r\n  changeAvatar(newAvatarUrl) {\r\n    const token = localStorage.getItem('jwt')\r\n    return fetch(`${this._options.baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: newAvatarUrl\r\n      })\r\n    })\r\n      .then(this._checkStatus)\r\n  };\r\n  \r\n};\r\n\r\nconst api = new Api(apiOptions);\r\nexport default api;\r\n","import React from \"react\"\r\nfunction PopupWithForm({onClose, isOpen, name, onSubmit, children, title, isLoading, loading, buttonPlaceholder}) {\r\n\r\n  function overlayClose(evt) {\r\n    if (evt.target === evt.currentTarget) {\r\n      onClose()\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n\r\n    function closePopupByESC(evt) {\r\n      if (evt.key === 'Escape') {\r\n        onClose()\r\n      }\r\n    }\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', closePopupByESC)\r\n    }\r\n    \r\n    return () => {\r\n      document.removeEventListener('keydown', closePopupByESC)\r\n    } \r\n\r\n    \r\n  }, [isOpen])\r\n  \r\n  return (\r\n    <div className={`pop-up ${isOpen && \"pop-up_opened\"}`} id={name} onClick={overlayClose}>\r\n    <form onSubmit={onSubmit} className=\"pop-up__form\" method=\"POST\" noValidate name={name} id={`${name}-form`}>\r\n      <fieldset className=\"pop-up__form-container\">\r\n        <h2 className=\"pop-up__title\">{title}</h2>\r\n        {children}\r\n        <button className=\"pop-up__form-button button-animation button-animation_blackout-level_light\" type=\"submit\">{isLoading ? loading : buttonPlaceholder}</button>\r\n      </fieldset>\r\n      <button className=\"pop-up__close-button button-animation\" type=\"button\" onClick={onClose}></button>\r\n    </form>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const [name, changeName] = React.useState('')\r\n  const [description, changeDescription] = React.useState('')\r\n\r\n  React.useEffect(() => {\r\n    changeName(currentUser.name);\r\n    changeDescription(currentUser.about)\r\n  }, [currentUser, props.isOpen])\r\n\r\n  \r\n\r\n  function handleNameChange(evt) {\r\n    changeName(evt.target.value)\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    changeDescription(evt.target.value)\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name=\"profileEdit\" title=\"Редактировать профиль\" buttonPlaceholder=\"Сохранить\" onClose={props.onClose} isOpen={props.isOpen}>\r\n      <input className=\"pop-up__form-text-input\" type=\"text\" minLength=\"2\" onChange={handleNameChange} maxLength=\"40\" id=\"name\" name=\"name\" value={name} required placeholder=\"Имя\" />\r\n      <span className=\"pop-up__error name-error\"></span>\r\n      <input className=\"pop-up__form-text-input\" type=\"text\" minLength=\"2\" onChange={handleDescriptionChange} maxLength=\"200\" id=\"about\" name=\"about\" value={description} required placeholder=\"О себе\" />\r\n      <span className=\"pop-up__error about-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarRef = React.useRef()\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar(avatarRef.current.value)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name=\"editAvatar\" title=\"Обновить аватар\" buttonPlaceholder=\"Сохранить\" onClose={props.onClose} isOpen={props.isOpen}>\r\n      <input ref={avatarRef} className=\"pop-up__form-text-input\" type=\"url\" id=\"changeAvatarUrl\" name=\"newAvatarUrl\" placeholder=\"Ссылка на аватар\" required />\r\n      <span className=\"pop-up__error changeAvatarUrl-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({onClose, onAddPlace, isOpen}) {\r\n\r\n  const [placeName, setPlaceName] = React.useState()\r\n  const [placePhotoUrl, setPlacePhotoUrl] = React.useState()\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault()\r\n    onAddPlace({\r\n      name: placeName,\r\n      link: placePhotoUrl\r\n    }, handlePopupClear)\r\n  }\r\n\r\n  function handleNameChange(evt) {\r\n    setPlaceName(evt.target.value)\r\n  }\r\n\r\n  function handlePhotoUrlChange(evt) {\r\n    setPlacePhotoUrl(evt.target.value)\r\n  }\r\n\r\n  function handlePopupClear() {\r\n    setPlaceName('')\r\n    setPlacePhotoUrl('')\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name=\"addPhoto\" title=\"Новое место\" buttonPlaceholder=\"Создать\" onClose={onClose} isOpen={isOpen}>\r\n      <input onChange={handleNameChange} className=\"pop-up__form-text-input\" type=\"text\" minLength=\"2\" maxLength=\"30\" id=\"card-name\" name=\"name\" value={placeName} placeholder=\"Название\" required />\r\n      <span className=\"pop-up__error card-name-error\"></span>\r\n      <input onChange={handlePhotoUrlChange} className=\"pop-up__form-text-input\" type=\"url\" id=\"card-link\" name=\"link\" value={placePhotoUrl} placeholder=\"Ссылка на картинку\" required />\r\n      <span className=\"pop-up__error card-link-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteConfirmPopup(props) {\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    setIsLoading(true)\r\n    props.onCardDelete(props.cardToDelete)\r\n      .then(() => setIsLoading(false))\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm isLoading={isLoading} loading='Удаление...' onSubmit={handleSubmit} isOpen={props.cardToDelete} onClose={props.onClose} name=\"deleteConfirm\" title=\"Вы уверены?\" buttonPlaceholder=\"Да\" />\r\n  )\r\n}\r\n\r\nexport default DeleteConfirmPopup","import Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport React from 'react';\r\nimport api from '../utils/api';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteConfirmPopup from './DeleteConfirmPopup';\r\n\r\nfunction Content() {\r\n\r\n  const [isEditProfilePopupOpen, editProfileState] = React.useState(false);\r\n  const [isAddPlacePopupOpen, addPlaceState] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, editAvatarState] = React.useState(false);\r\n  const [cardToDelete, selectCardToDelete] = React.useState(null);\r\n  const [selectedCard, selectedCardState] = React.useState(null);\r\n  const [currentUser, setUserInfo] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n\r\n  function handleEditProfileClick() {\r\n    editProfileState(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    addPlaceState(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    editAvatarState(true);\r\n  }\r\n  \r\n  function handleCardClick(cardData) {\r\n    selectedCardState(cardData);\r\n  }\r\n\r\n  function handleCardDeleteClick(cardData) {\r\n    selectCardToDelete(cardData)\r\n  }\r\n\r\n\r\n  function closeAllPopups() {\r\n    editProfileState(false);\r\n    addPlaceState(false);\r\n    editAvatarState(false);\r\n    selectedCardState(null);\r\n    selectCardToDelete(null);\r\n  }\r\n\r\n\r\n\r\n  function handleUpdateUser(newProfileData) {\r\n    async function updateProfile() {\r\n      try {\r\n        const updatedProfileData = await api.editPrifile(newProfileData)\r\n        setUserInfo(updatedProfileData);\r\n        closeAllPopups()\r\n      } catch(e) {\r\n        console.error(e)\r\n      }\r\n    }\r\n    updateProfile()\r\n  }\r\n\r\n  function handleUpdateAvatar(newAvatarUrl) {\r\n    async function updateAvatar() {\r\n      try {\r\n        const updatedProfileData = await api.changeAvatar(newAvatarUrl)\r\n        setUserInfo(updatedProfileData)\r\n        closeAllPopups()\r\n      } catch(e) {\r\n        console.error(e)\r\n      }\r\n    }\r\n    updateAvatar()\r\n  }\r\n\r\n  function handleAddCard(newCardData, clearPopup) {\r\n    api.addCard(newCardData)\r\n      .then(newCard => {\r\n        setCards([newCard, ...cards])\r\n        clearPopup()\r\n        closeAllPopups()\r\n      })\r\n      .catch(e => console.error(e))\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(liked => liked._id === currentUser._id)\r\n    async function toggleLike() {\r\n      try {\r\n        const updatedCard = await api.likeStatus(card._id, !isLiked)\r\n        const newArray = cards.map(c => {\r\n          if (c._id === updatedCard._id) {\r\n            if (!isLiked) c.likes.push(currentUser)\r\n            else c.likes = c.likes.filter(user => user._id !== currentUser._id)\r\n            return c\r\n          } \r\n          return c\r\n        })\r\n        setCards(newArray)\r\n      } catch(e) {\r\n        console.error(`${e} like`)\r\n      }\r\n    }\r\n    toggleLike()\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n\r\n    return (api.deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(cards.filter(c => c._id !== card._id))\r\n        selectCardToDelete(null);\r\n      })\r\n      .catch(e => console.error(e)))\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    async function setData() {\r\n      try {\r\n        const userData = await api.getUserProfileData()\r\n        setUserInfo(userData.data)\r\n      } catch(e) {\r\n        console.error(`error: ${e}`)\r\n      }\r\n    }\r\n    setData()\r\n\r\n    async function setInitialCards() {\r\n      try {\r\n        const initialCards = await api.getInitialCards();\r\n        setCards(initialCards.reverse());\r\n      } catch(e) {\r\n        console.error(e);\r\n      };\r\n    }\r\n    setInitialCards()\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Main onCardDeleteClick={handleCardDeleteClick} cards={cards} onCardLike={handleCardLike} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} />\r\n        <Footer />\r\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}/>\r\n      \r\n      \r\n        <AddPlacePopup onClose={closeAllPopups} isOpen={isAddPlacePopupOpen} onAddPlace={handleAddCard} />\r\n        \r\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\r\n\r\n        <DeleteConfirmPopup onCardDelete={handleCardDelete} cardToDelete={cardToDelete} onClose={closeAllPopups} />\r\n\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n      </CurrentUserContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Content;\r\n","export default __webpack_public_path__ + \"static/media/ok.e1ae4ba1.svg\";","export default __webpack_public_path__ + \"static/media/error.13b51faa.svg\";","import React from \"react\";\r\nimport okImage from \"../images/ok.svg\";\r\nimport errorImage from \"../images/error.svg\";\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  function overlayClose(evt) {\r\n    if (evt.target === evt.currentTarget) {\r\n      props.onClose()\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n\r\n    function closePopupByESC(evt) {\r\n      if (evt.key === 'Escape') {\r\n        props.onClose()\r\n      }\r\n    }\r\n    if (props.isOpen) {\r\n      document.addEventListener('keydown', closePopupByESC)\r\n    }\r\n    \r\n    return () => {\r\n      document.removeEventListener('keydown', closePopupByESC)\r\n    } \r\n\r\n    \r\n  }, [props.isOpen])\r\n\r\n  return (\r\n    <div className={`pop-up ${props.isOpen && \"pop-up_opened\"}`} onClick={overlayClose}>\r\n      <div className='pop-up__info'>\r\n        <img className='pop-up__info-icon' src={props.status ? okImage : errorImage} alt='icon' />\r\n        <p className='pop-up__status'>{props.status ? props.okStatus : props.error ? props.error : 'Что-то пошло не так! Попробуйте ещё раз.'}</p>\r\n        <button className=\"pop-up__close-button button-animation\" type=\"button\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","import React from \"react\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport InfoTooltip from \"./InfoTooltip.js\";\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState('')\r\n  const [password, setPassword] = React.useState('')\r\n\r\n  const history = useHistory()\r\n\r\n  function handleChangeEmail(evt) {\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handleChangePassword(evt) {\r\n    setPassword(evt.target.value)\r\n  }\r\n\r\n  function handleOkClose() {\r\n    props.onPopupClose()\r\n    history.push('/')\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault()\r\n    props.onSubmit(email, setEmail, password, setPassword)\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <section className=\"auth\">\r\n      <h2 className=\"auth__title\">Вход</h2>\r\n      <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n        <div className=\"auth__input-set\">\r\n          <input onChange={handleChangeEmail} className=\"auth__input\" type=\"email\" placeholder=\"Email\" required value={email} />\r\n          <input onChange={handleChangePassword} className=\"auth__input\" type=\"password\" placeholder=\"Пороль\" required value={password} />\r\n        </div>\r\n        <button className=\"auth__button\">Войти</button>\r\n      </form>\r\n    </section>\r\n\r\n    <InfoTooltip\r\n      status={props.status}\r\n      okStatus='Вы успешно авторизовались!'\r\n      isOpen={props.isPopupOpen} \r\n      onClose={props.status ? handleOkClose : props.onPopupClose}\r\n    />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport InfoTooltip from './InfoTooltip';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('')\r\n  const [password, setPassword] = React.useState('')\r\n\r\n  const history = useHistory()\r\n\r\n  function handleChangeEmail(evt) {\r\n    setEmail(evt.target.value);\r\n  }\r\n  function handleChangePassword(evt) {\r\n    setPassword(evt.target.value)\r\n  }\r\n\r\n  function handleOkClose() {\r\n    props.onPopupClose()\r\n    history.push('/signin')\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault()\r\n    props.onSubmit(email, setEmail, password, setPassword)\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n    <section className=\"auth\">\r\n      <h2 className=\"auth__title\">Регистрация</h2>\r\n      <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n        <div className=\"auth__input-set\">\r\n          <input onChange={handleChangeEmail} className=\"auth__input\" type=\"email\" placeholder=\"Email\" required value={email} />\r\n          <input onChange={handleChangePassword} className=\"auth__input\" type=\"password\" placeholder=\"Пороль\" required value={password} />\r\n        </div>\r\n        <button className=\"auth__button\">Зарегистрироваться</button>\r\n      </form>\r\n      <Link className=\"auth__link\" to=\"/signin\">Уже зарегистрированы? Войти</Link>\r\n    </section>\r\n\r\n    <InfoTooltip\r\n      status={props.status}\r\n      okStatus='Вы успешно зарегистрировались!'\r\n      isOpen={props.isPopupOpen} \r\n      onClose={props.status ? handleOkClose : props.onPopupClose}\r\n    />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/Vector-2.6418ec00.svg\";","export default __webpack_public_path__ + \"static/media/closeIcon.a45d5ac5.svg\";","export default __webpack_public_path__ + \"static/media/burger.93c9e804.svg\";","import logo from '../images/Vector-2.svg';\r\nimport {Link, useHistory, useLocation} from 'react-router-dom';\r\nimport React from 'react';\r\nimport closeIcon from '../images/closeIcon.svg';\r\nimport burgerIcon from '../images/burger.svg';\r\n\r\nfunction Header({loggedIn, ...props}) {\r\n  const [isDropdownOpen, toggleDropdown] = React.useState(false)\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n\r\n  function handlerDropdownClick() {\r\n    toggleDropdown(!isDropdownOpen)\r\n  }\r\n\r\n  function signOut() {\r\n    props.onSignOut(false)\r\n    localStorage.removeItem('jwt')\r\n    history.push('signin')\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__image\" src={logo} alt=\"Логотип 'mesto'\" />\r\n      <div className={`header__profile ${isDropdownOpen && \"header__profile_open\"}`}>\r\n        {loggedIn && <p className=\"header__email\">{props.data.email && props.data.email}</p>}\r\n        {!loggedIn &&  location.pathname !== '/signup' && <Link className=\"header__link\" to=\"/signup\">Регистрация</Link>}\r\n        {loggedIn ? <p onClick={signOut} className=\"header__quit\">Выйти</p> : (location.pathname !== '/signin' && <Link className=\"header__link\" to=\"/signin\">Войти</Link>)}\r\n      </div>\r\n      <button\r\n        onClick={handlerDropdownClick}\r\n        style={{backgroundImage: 'url('+(isDropdownOpen ? closeIcon : burgerIcon) + ')'}}\r\n        className=\"header__dropdownButton button-animation button-animation_blackout-level_medium\">\r\n      </button>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n\r\n","import {Route, Redirect} from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({component: Component, path, loggedIn, ...props}) {\r\n  return (\r\n    <Route path={path}>\r\n      {() => \r\n      loggedIn ? <Component {...props} /> : <Redirect to='/signin' />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","import { apiOptions } from \"./constants\";\r\n\r\nconst checkResponse = res => {\r\n  try {\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n    return Promise.reject(res.status)\r\n  } catch(err) {return Promise.reject(err)}\r\n}\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${apiOptions.baseUrl}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n    .then(response => checkResponse(response))\r\n}\r\n\r\nexport const login = (email, password) => {\r\n  return fetch(`${apiOptions.baseUrl}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n    .then(response => checkResponse(response))\r\n}\r\n\r\nexport const checkToken = token => {\r\n  return fetch(`${apiOptions.baseUrl}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      'Authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(response => checkResponse(response))\r\n}","import Content from './Content';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport Header from './Header';\r\nimport React from 'react';\r\nimport ProtectedRoute from './hocs/ProtectedRoute';\r\nimport {Route, Switch, Redirect, useHistory} from 'react-router-dom';\r\nimport * as mestoAuth from '../utils/mestoAuth.js';\r\nfunction App() {\r\n\r\n  const [loggedIn, toggleLogin] = React.useState(false)\r\n  const [isInfoPopupOpen, toggleInfoPopup] = React.useState(false)\r\n  const [popupStatus, togglePopupStatus] = React.useState(false)\r\n  const [accountData, setAccountData] = React.useState({})\r\n  const history = useHistory()\r\n\r\n  React.useEffect(() => {\r\n    if (localStorage.getItem('jwt')) {\r\n      mestoAuth.checkToken(localStorage.getItem('jwt'))\r\n      .then(res => {\r\n        toggleLogin(true)\r\n        history.push('/')\r\n        setAccountData(res.data)\r\n      })\r\n      .catch(err => {\r\n        console.error(err)\r\n        history.push('/signin')\r\n      })\r\n    }\r\n  }, [loggedIn])\r\n\r\n  function handleInfoPopupWithStatus(status=false) {\r\n    toggleInfoPopup(true)\r\n    togglePopupStatus(status)\r\n  }\r\n\r\n  function handlePopupClose() {\r\n    toggleInfoPopup(false)\r\n  }\r\n\r\n  function handleLoginSubmit(email, setEmail, password, setPassword) {\r\n    mestoAuth.login(email, password)\r\n    .then(data => {\r\n      toggleLogin(true)\r\n      handleInfoPopupWithStatus(true)\r\n      setEmail('')\r\n      setPassword('')\r\n      localStorage.setItem('jwt', data.token)\r\n    })\r\n    .catch(err => {\r\n      console.error(err)\r\n      handleInfoPopupWithStatus(false)\r\n      setPassword('')\r\n    })\r\n  }\r\n\r\n  function handleRegisterSubmit(email, setEmail, password, setPassword){\r\n    mestoAuth.register(email, password)\r\n      .then(data => {\r\n        handleInfoPopupWithStatus(true)\r\n        setEmail('');\r\n        setPassword('')\r\n\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        handleInfoPopupWithStatus(false)\r\n        setPassword('')\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className=\"common\" >\r\n      <div className=\"page\">\r\n        <Header loggedIn={loggedIn} onSignOut={toggleLogin} data={accountData} />\r\n        <Switch>\r\n\r\n          <Route path=\"/signin\">\r\n            <Login  \r\n              onSubmit={handleLoginSubmit}\r\n              status={popupStatus}\r\n              isPopupOpen={isInfoPopupOpen}\r\n              onPopupClose={handlePopupClose} />\r\n          </Route>\r\n          \r\n          <Route path=\"/signup\">\r\n            <Register\r\n              onSubmit={handleRegisterSubmit}\r\n              status={popupStatus}\r\n              isPopupOpen={isInfoPopupOpen}\r\n              onPopupClose={handlePopupClose} />\r\n          </Route>\r\n\r\n          <ProtectedRoute\r\n            component={Content}\r\n            path=\"/\"\r\n            loggedIn={loggedIn}\r\n          />\r\n    \r\n          <Route path='/'>\r\n            {loggedIn ? <Redirect to='/' /> : <Redirect to=\"/signin\" />}\r\n          </Route>\r\n\r\n        </Switch>\r\n        \r\n      </div>\r\n   </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter} from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}