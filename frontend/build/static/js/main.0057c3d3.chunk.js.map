{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/constants.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteConfirmPopup.js","components/Content.js","images/ok.svg","images/error.svg","components/InfoTooltip.js","components/Login.js","components/Register.js","images/Vector-2.svg","images/closeIcon.svg","images/burger.svg","components/Header.js","components/hocs/ProtectedRoute.js","utils/mestoAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","onCardClick","card","onCardLike","onCardDeleteClick","currentUser","useContext","isOwn","owner","_id","isLicked","likes","some","liked","className","onClick","type","id","src","link","alt","name","length","Main","props","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","currentYear","Date","getFullYear","ImagePopup","useEffect","closePopupByESC","evt","key","onClose","document","addEventListener","removeEventListener","target","classList","contains","api","options","this","_options","res","ok","json","Promise","reject","status","fetch","baseUrl","method","headers","then","_checkStatus","dataForEdit","body","JSON","stringify","dataForAdd","cardId","likeStatus","newAvatarUrl","PopupWithForm","isOpen","onSubmit","children","title","isLoading","loading","buttonPlaceholder","currentTarget","noValidate","EditProfilePopup","useState","changeName","description","changeDescription","preventDefault","onUpdateUser","minLength","onChange","value","maxLength","required","placeholder","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeName","setPlaceName","placePhotoUrl","setPlacePhotoUrl","handlePopupClear","DeleteConfirmPopup","setIsLoading","onCardDelete","cardToDelete","Content","isEditProfilePopupOpen","editProfileState","isAddPlacePopupOpen","addPlaceState","isEditAvatarPopupOpen","editAvatarState","selectCardToDelete","selectedCard","selectedCardState","setUserInfo","setCards","closeAllPopups","a","getUserProfileData","userData","console","error","getInitialCards","initialCards","setData","setInitialCards","Provider","cardData","isLiked","updatedCard","c","toggleLike","newProfileData","editPrifile","updatedProfileData","updateProfile","newCardData","clearPopup","addCard","newCard","e","changeAvatar","updateAvatar","deleteCard","filter","catch","InfoTooltip","okImage","errorImage","okStatus","Login","email","setEmail","password","setPassword","history","useHistory","isPopupOpen","onPopupClose","push","Register","to","Header","loggedIn","isDropdownOpen","toggleDropdown","location","useLocation","logo","data","pathname","onSignOut","localStorage","removeItem","style","backgroundImage","closeIcon","burgerIcon","ProtectedRoute","Component","component","path","checkResponse","err","App","toggleLogin","isInfoPopupOpen","toggleInfoPopup","popupStatus","togglePopupStatus","accountData","setAccountData","handleInfoPopupWithStatus","handlePopupClose","token","getItem","response","mestoAuth","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0057c3d3.chunk.js","sourcesContent":["import React from 'react';\r\n  \r\nconst CurrentUserContext = React.createContext()\r\n\r\nexport default CurrentUserContext","import CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport React from \"react\";\r\n\r\nfunction Card({onCardClick, card, onCardLike, onCardDeleteClick}) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLicked = card.likes.some(liked => liked._id === currentUser._id);\r\n\r\n  function handleClick() {\r\n    onCardClick(card)\r\n  }\r\n  \r\n  function handleLikeClick() {\r\n    onCardLike(card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDeleteClick(card)\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button onClick={handleDeleteClick} className={`element__delete-button ${!isOwn && 'element__delete-button_hidden'} button-animation`} type=\"button\" id=\"delete-card\"></button>\r\n      <img className=\"element__image\" src={card.link} alt={`фотография ${card.name}`} onClick={handleClick} />\r\n      <div className=\"element__about\">\r\n        <h2 className=\"element__place-name\">{card.name}</h2>\r\n        <div>\r\n          <button onClick={handleLikeClick} className={`element__like-button ${isLicked && 'element__like-button_active'} button-animation button-animation_blackout-level_medium `}type=\"button\"></button>\r\n          <p className=\"element__like-amount\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__avatar-button\" onClick={props.onEditAvatar} type=\"button\"><img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар\" /></button>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <p className=\"profile__about\">{currentUser.about}</p>\r\n          <button className=\"profile__edit-button button-animation\" onClick={props.onEditProfile} type=\"button\"></button>\r\n        </div>\r\n        <button className=\"profile__add-button button-animation\" onClick={props.onAddPlace} type=\"button\"></button>\r\n      </section>\r\n    \r\n      <section className=\"elements\">\r\n        <ul className=\"elements__table\">\r\n        {props.cards.map((card) => (\r\n          <Card key={card._id} onCardDeleteClick={props.onCardDeleteClick}  onCardLike={props.onCardLike} card={card} onCardClick={props.onCardClick}/>\r\n        ))}\r\n        </ul>\r\n      </section>\r\n  </main>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n\r\n  const currentYear = new Date().getFullYear()\r\n  \r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {currentYear} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from \"react\"\r\nfunction ImagePopup(props) {\r\n\r\n  function overlayClose(evt) {\r\n    if (evt.target.classList.contains('pop-up_opened')) {\r\n      props.onClose()\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n\r\n    function closePopupByESC(evt) {\r\n      if (evt.key === 'Escape') {\r\n        props.onClose()\r\n      }\r\n    }\r\n    \r\n    if (props.card) {\r\n      document.addEventListener('keydown', closePopupByESC)\r\n    }\r\n    \r\n    return () => {\r\n      document.removeEventListener('keydown', closePopupByESC)\r\n    }\r\n\r\n    \r\n  }, [props.card])\r\n\r\n  return (\r\n    <div className={`pop-up ${props.card && \"pop-up_opened\"}`} id=\"photo\" onClick={overlayClose}>\r\n      <figure className=\"pop-up__figure\">\r\n        <button className=\"pop-up__close-button button-animation\" onClick={props.onClose} type=\"button\" id=\"photo-close\"></button>\r\n        <img className=\"pop-up__image\" src={props.card && props.card.link} alt={`фотография ${props.card && props.card.name}`} />\r\n        <figcaption className=\"pop-up__caption\">{props.card && props.card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import { apiOptions } from \"./constants\";\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._options = options;\r\n  }\r\n\r\n  _checkStatus(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    } else {\r\n      return Promise.reject(`Error: ${res.status}`)\r\n    }\r\n  }\r\n\r\n  getUserProfileData() {\r\n    return fetch(`${this._options.baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._options.headers\r\n    })\r\n      .then(this._checkStatus)\r\n  };\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._options.baseUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: this._options.headers\r\n    })\r\n      .then(this._checkStatus)\r\n  };\r\n\r\n  editPrifile(dataForEdit) {\r\n    return fetch(`${this._options.baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._options.headers,\r\n      body: JSON.stringify({\r\n        name: dataForEdit['name'],\r\n        about: dataForEdit['about']\r\n      })\r\n    })\r\n      .then(this._checkStatus)\r\n  }\r\n\r\n  addCard(dataForAdd) {\r\n    return fetch(`${this._options.baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._options.headers,\r\n      body: JSON.stringify({\r\n        name: dataForAdd['name'],\r\n        link: dataForAdd['link']\r\n      })\r\n    })\r\n      .then(this._checkStatus)\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._options.baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._options.headers\r\n    })\r\n      .then(this._checkStatus)\r\n      \r\n  };\r\n  \r\n  likeStatus(cardId, likeStatus) {\r\n    const method = likeStatus ? 'PUT' : 'DELETE';\r\n    \r\n    return fetch(`${this._options.baseUrl}/cards/${cardId}/likes`, {\r\n      method: method,\r\n      headers: this._options.headers\r\n    })\r\n      .then(this._checkStatus)\r\n  }\r\n\r\n  changeAvatar(newAvatarUrl) {\r\n    return fetch(`${this._options.baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._options.headers,\r\n      body: JSON.stringify({\r\n        avatar: newAvatarUrl\r\n      })\r\n    })\r\n      .then(this._checkStatus)\r\n  };\r\n  \r\n};\r\n\r\nconst api = new Api(apiOptions);\r\nexport default api;\r\n","export const apiOptions = {\r\n  baseUrl: 'http://api.projectmesto21.nomoredomains.club',\r\n}\r\n\r\n\r\nexport const settings = {\r\n  fieldSetSelector: '.pop-up__form-container',\r\n  inputSelector: '.pop-up__form-text-input',\r\n  submitButtonSelector: '.pop-up__form-button',\r\n  inactiveButtonClass: 'pop-up__form-button_inactive',\r\n  inputErrorClass: 'pop-up__form-text-input_type_error',\r\n  errorClass: 'pop-up__error_visible'\r\n};\r\n\r\n","import React from \"react\"\r\nfunction PopupWithForm({onClose, isOpen, name, onSubmit, children, title, isLoading, loading, buttonPlaceholder}) {\r\n\r\n  function overlayClose(evt) {\r\n    if (evt.target === evt.currentTarget) {\r\n      onClose()\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n\r\n    function closePopupByESC(evt) {\r\n      if (evt.key === 'Escape') {\r\n        onClose()\r\n      }\r\n    }\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', closePopupByESC)\r\n    }\r\n    \r\n    return () => {\r\n      document.removeEventListener('keydown', closePopupByESC)\r\n    } \r\n\r\n    \r\n  }, [isOpen])\r\n  \r\n  return (\r\n    <div className={`pop-up ${isOpen && \"pop-up_opened\"}`} id={name} onClick={overlayClose}>\r\n    <form onSubmit={onSubmit} className=\"pop-up__form\" method=\"POST\" noValidate name={name} id={`${name}-form`}>\r\n      <fieldset className=\"pop-up__form-container\">\r\n        <h2 className=\"pop-up__title\">{title}</h2>\r\n        {children}\r\n        <button className=\"pop-up__form-button button-animation button-animation_blackout-level_light\" type=\"submit\">{isLoading ? loading : buttonPlaceholder}</button>\r\n      </fieldset>\r\n      <button className=\"pop-up__close-button button-animation\" type=\"button\" onClick={onClose}></button>\r\n    </form>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const [name, changeName] = React.useState('')\r\n  const [description, changeDescription] = React.useState('')\r\n\r\n  React.useEffect(() => {\r\n    changeName(currentUser.name);\r\n    changeDescription(currentUser.about)\r\n  }, [currentUser, props.isOpen])\r\n\r\n  \r\n\r\n  function handleNameChange(evt) {\r\n    changeName(evt.target.value)\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    changeDescription(evt.target.value)\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name=\"profileEdit\" title=\"Редактировать профиль\" buttonPlaceholder=\"Сохранить\" onClose={props.onClose} isOpen={props.isOpen}>\r\n      <input className=\"pop-up__form-text-input\" type=\"text\" minLength=\"2\" onChange={handleNameChange} maxLength=\"40\" id=\"name\" name=\"name\" value={name} required placeholder=\"Имя\" />\r\n      <span className=\"pop-up__error name-error\"></span>\r\n      <input className=\"pop-up__form-text-input\" type=\"text\" minLength=\"2\" onChange={handleDescriptionChange} maxLength=\"200\" id=\"about\" name=\"about\" value={description} required placeholder=\"О себе\" />\r\n      <span className=\"pop-up__error about-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarRef = React.useRef()\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar(avatarRef.current.value)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name=\"editAvatar\" title=\"Обновить аватар\" buttonPlaceholder=\"Сохранить\" onClose={props.onClose} isOpen={props.isOpen}>\r\n      <input ref={avatarRef} className=\"pop-up__form-text-input\" type=\"url\" id=\"changeAvatarUrl\" name=\"newAvatarUrl\" placeholder=\"Ссылка на аватар\" required />\r\n      <span className=\"pop-up__error changeAvatarUrl-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({onClose, onAddPlace, isOpen}) {\r\n\r\n  const [placeName, setPlaceName] = React.useState()\r\n  const [placePhotoUrl, setPlacePhotoUrl] = React.useState()\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault()\r\n    onAddPlace({\r\n      name: placeName,\r\n      link: placePhotoUrl\r\n    }, handlePopupClear)\r\n  }\r\n\r\n  function handleNameChange(evt) {\r\n    setPlaceName(evt.target.value)\r\n  }\r\n\r\n  function handlePhotoUrlChange(evt) {\r\n    setPlacePhotoUrl(evt.target.value)\r\n  }\r\n\r\n  function handlePopupClear() {\r\n    setPlaceName('')\r\n    setPlacePhotoUrl('')\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name=\"addPhoto\" title=\"Новое место\" buttonPlaceholder=\"Создать\" onClose={onClose} isOpen={isOpen}>\r\n      <input onChange={handleNameChange} className=\"pop-up__form-text-input\" type=\"text\" minLength=\"2\" maxLength=\"30\" id=\"card-name\" name=\"name\" value={placeName} placeholder=\"Название\" required />\r\n      <span className=\"pop-up__error card-name-error\"></span>\r\n      <input onChange={handlePhotoUrlChange} className=\"pop-up__form-text-input\" type=\"url\" id=\"card-link\" name=\"link\" value={placePhotoUrl} placeholder=\"Ссылка на картинку\" required />\r\n      <span className=\"pop-up__error card-link-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteConfirmPopup(props) {\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    setIsLoading(true)\r\n    props.onCardDelete(props.cardToDelete)\r\n      .then(() => setIsLoading(false))\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm isLoading={isLoading} loading='Удаление...' onSubmit={handleSubmit} isOpen={props.cardToDelete} onClose={props.onClose} name=\"deleteConfirm\" title=\"Вы уверены?\" buttonPlaceholder=\"Да\" />\r\n  )\r\n}\r\n\r\nexport default DeleteConfirmPopup","import Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport React from 'react';\r\nimport api from '../utils/api';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteConfirmPopup from './DeleteConfirmPopup';\r\n\r\nfunction Content() {\r\n\r\n  const [isEditProfilePopupOpen, editProfileState] = React.useState(false);\r\n  const [isAddPlacePopupOpen, addPlaceState] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, editAvatarState] = React.useState(false);\r\n  const [cardToDelete, selectCardToDelete] = React.useState(null);\r\n  const [selectedCard, selectedCardState] = React.useState(null);\r\n  const [currentUser, setUserInfo] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n\r\n  function handleEditProfileClick() {\r\n    editProfileState(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    addPlaceState(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    editAvatarState(true);\r\n  }\r\n  \r\n  function handleCardClick(cardData) {\r\n    selectedCardState(cardData);\r\n  }\r\n\r\n  function handleCardDeleteClick(cardData) {\r\n    selectCardToDelete(cardData)\r\n  }\r\n\r\n\r\n  function closeAllPopups() {\r\n    editProfileState(false);\r\n    addPlaceState(false);\r\n    editAvatarState(false);\r\n    selectedCardState(null);\r\n    selectCardToDelete(null);\r\n  }\r\n\r\n\r\n\r\n  function handleUpdateUser(newProfileData) {\r\n    async function updateProfile() {\r\n      try {\r\n        const updatedProfileData = await api.editPrifile(newProfileData)\r\n        setUserInfo(updatedProfileData);\r\n        closeAllPopups()\r\n      } catch(e) {\r\n        console.error(e)\r\n      }\r\n    }\r\n    updateProfile()\r\n  }\r\n\r\n  function handleUpdateAvatar(newAvatarUrl) {\r\n    async function updateAvatar() {\r\n      try {\r\n        const updatedProfileData = await api.changeAvatar(newAvatarUrl)\r\n        setUserInfo(updatedProfileData)\r\n        closeAllPopups()\r\n      } catch(e) {\r\n        console.error(e)\r\n      }\r\n    }\r\n    updateAvatar()\r\n  }\r\n\r\n  function handleAddCard(newCardData, clearPopup) {\r\n    api.addCard(newCardData)\r\n      .then(newCard => {\r\n        setCards([newCard, ...cards])\r\n        clearPopup()\r\n        closeAllPopups()\r\n      })\r\n      .then(e => {\r\n        console.error(e)\r\n      })\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(liked => liked._id === currentUser._id)\r\n    async function toggleLike() {\r\n      try {\r\n        const updatedCard = await api.likeStatus(card._id, !isLiked)\r\n        setCards(cards => cards.map(c => c._id === updatedCard._id ? updatedCard : c))\r\n      } catch(e) {\r\n        console.error(e)\r\n      }\r\n    }\r\n    toggleLike()\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n\r\n    return (api.deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(cards.filter(c => c._id !== card._id))\r\n        selectCardToDelete(null);\r\n      })\r\n      .catch(e => console.error(e)))\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    async function setData() {\r\n      try {\r\n        const userData = await api.getUserProfileData()\r\n        setUserInfo(userData)\r\n      } catch(e) {\r\n        console.error(`error: ${e}`)\r\n      }\r\n    }\r\n    setData()\r\n\r\n    async function setInitialCards() {\r\n      try {\r\n        const initialCards = await api.getInitialCards();\r\n        setCards(initialCards);\r\n      } catch(e) {\r\n        console.error(e);\r\n      };\r\n    }\r\n    setInitialCards()\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Main onCardDeleteClick={handleCardDeleteClick} cards={cards} onCardLike={handleCardLike} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} />\r\n        <Footer />\r\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}/>\r\n      \r\n      \r\n        <AddPlacePopup onClose={closeAllPopups} isOpen={isAddPlacePopupOpen} onAddPlace={handleAddCard} />\r\n        \r\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\r\n\r\n        <DeleteConfirmPopup onCardDelete={handleCardDelete} cardToDelete={cardToDelete} onClose={closeAllPopups} />\r\n\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n      </CurrentUserContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Content;\r\n","export default __webpack_public_path__ + \"static/media/ok.e1ae4ba1.svg\";","export default __webpack_public_path__ + \"static/media/error.13b51faa.svg\";","import React from \"react\";\r\nimport okImage from \"../images/ok.svg\";\r\nimport errorImage from \"../images/error.svg\";\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  function overlayClose(evt) {\r\n    if (evt.target === evt.currentTarget) {\r\n      props.onClose()\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n\r\n    function closePopupByESC(evt) {\r\n      if (evt.key === 'Escape') {\r\n        props.onClose()\r\n      }\r\n    }\r\n    if (props.isOpen) {\r\n      document.addEventListener('keydown', closePopupByESC)\r\n    }\r\n    \r\n    return () => {\r\n      document.removeEventListener('keydown', closePopupByESC)\r\n    } \r\n\r\n    \r\n  }, [props.isOpen])\r\n\r\n  return (\r\n    <div className={`pop-up ${props.isOpen && \"pop-up_opened\"}`} onClick={overlayClose}>\r\n      <div className='pop-up__info'>\r\n        <img className='pop-up__info-icon' src={props.status ? okImage : errorImage} alt='icon' />\r\n        <p className='pop-up__status'>{props.status ? props.okStatus : props.error ? props.error : 'Что-то пошло не так! Попробуйте ещё раз.'}</p>\r\n        <button className=\"pop-up__close-button button-animation\" type=\"button\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","import React from \"react\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport InfoTooltip from \"./InfoTooltip.js\";\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState('')\r\n  const [password, setPassword] = React.useState('')\r\n\r\n  const history = useHistory()\r\n\r\n  function handleChangeEmail(evt) {\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handleChangePassword(evt) {\r\n    setPassword(evt.target.value)\r\n  }\r\n\r\n  function handleOkClose() {\r\n    props.onPopupClose()\r\n    history.push('/')\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault()\r\n    props.onSubmit(email, setEmail, password, setPassword)\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <section className=\"auth\">\r\n      <h2 className=\"auth__title\">Вход</h2>\r\n      <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n        <div className=\"auth__input-set\">\r\n          <input onChange={handleChangeEmail} className=\"auth__input\" type=\"email\" placeholder=\"Email\" required value={email} />\r\n          <input onChange={handleChangePassword} className=\"auth__input\" type=\"password\" placeholder=\"Пороль\" required value={password} />\r\n        </div>\r\n        <button className=\"auth__button\">Войти</button>\r\n      </form>\r\n    </section>\r\n\r\n    <InfoTooltip\r\n      status={props.status}\r\n      okStatus='Вы успешно авторизовались!'\r\n      isOpen={props.isPopupOpen} \r\n      onClose={props.status ? handleOkClose : props.onPopupClose}\r\n    />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport InfoTooltip from './InfoTooltip';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('')\r\n  const [password, setPassword] = React.useState('')\r\n\r\n  const history = useHistory()\r\n\r\n  function handleChangeEmail(evt) {\r\n    setEmail(evt.target.value);\r\n  }\r\n  function handleChangePassword(evt) {\r\n    setPassword(evt.target.value)\r\n  }\r\n\r\n  function handleOkClose() {\r\n    props.onPopupClose()\r\n    history.push('/sign-in')\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault()\r\n    props.onSubmit(email, setEmail, password, setPassword)\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n    <section className=\"auth\">\r\n      <h2 className=\"auth__title\">Регистрация</h2>\r\n      <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n        <div className=\"auth__input-set\">\r\n          <input onChange={handleChangeEmail} className=\"auth__input\" type=\"email\" placeholder=\"Email\" required value={email} />\r\n          <input onChange={handleChangePassword} className=\"auth__input\" type=\"password\" placeholder=\"Пороль\" required value={password} />\r\n        </div>\r\n        <button className=\"auth__button\">Зарегистрироваться</button>\r\n      </form>\r\n      <Link className=\"auth__link\" to=\"/signin\">Уже зарегистрированы? Войти</Link>\r\n    </section>\r\n\r\n    <InfoTooltip\r\n      status={props.status}\r\n      okStatus='Вы успешно зарегистрировались!'\r\n      isOpen={props.isPopupOpen} \r\n      onClose={props.status ? handleOkClose : props.onPopupClose}\r\n    />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/Vector-2.6418ec00.svg\";","export default __webpack_public_path__ + \"static/media/closeIcon.a45d5ac5.svg\";","export default __webpack_public_path__ + \"static/media/burger.93c9e804.svg\";","import logo from '../images/Vector-2.svg';\r\nimport {Link, useHistory, useLocation} from 'react-router-dom';\r\nimport React from 'react';\r\nimport closeIcon from '../images/closeIcon.svg';\r\nimport burgerIcon from '../images/burger.svg';\r\n\r\nfunction Header({loggedIn, ...props}) {\r\n  const [isDropdownOpen, toggleDropdown] = React.useState(false)\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n\r\n  function handlerDropdownClick() {\r\n    toggleDropdown(!isDropdownOpen)\r\n  }\r\n\r\n  function signOut() {\r\n    props.onSignOut(false)\r\n    localStorage.removeItem('jwt')\r\n    history.push('sign-in')\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__image\" src={logo} alt=\"Логотип 'mesto'\" />\r\n      <div className={`header__profile ${isDropdownOpen && \"header__profile_open\"}`}>\r\n        {loggedIn && <p className=\"header__email\">{props.data.email}</p>}\r\n        {!loggedIn &&  location.pathname !== '/sign-up' && <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>}\r\n        {loggedIn ? <p onClick={signOut} className=\"header__quit\">Выйти</p> : (location.pathname !== '/sign-in' && <Link className=\"header__link\" to=\"/sign-in\">Войти</Link>)}\r\n      </div>\r\n      <button\r\n        onClick={handlerDropdownClick}\r\n        style={{backgroundImage: 'url('+(isDropdownOpen ? closeIcon : burgerIcon) + ')'}}\r\n        className=\"header__dropdownButton button-animation button-animation_blackout-level_medium\">\r\n      </button>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n\r\n","import {Route, Redirect} from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({component: Component, path, loggedIn, ...props}) {\r\n  return (\r\n    <Route path={path}>\r\n      {() => \r\n      loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","const baseUrl = 'https://auth.nomoreparties.co'\r\n\r\nconst checkResponse = res => {\r\n  try {\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n    return Promise.reject(res.status)\r\n  } catch(err) {return Promise.reject(err)}\r\n}\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${baseUrl}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n    .then(response => checkResponse(response))\r\n}\r\n\r\nexport const login = (email, password) => {\r\n  return fetch(`${baseUrl}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n    .then(response => checkResponse(response))\r\n}\r\n\r\nexport const checkToken = token => {\r\n  return fetch(`${baseUrl}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(response => checkResponse(response))\r\n}","import Content from './Content';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport Header from './Header';\r\nimport React from 'react';\r\nimport ProtectedRoute from './hocs/ProtectedRoute';\r\nimport {Route, Switch, Redirect, useHistory} from 'react-router-dom';\r\nimport * as mestoAuth from '../utils/mestoAuth.js';\r\n\r\nfunction App() {\r\n\r\n  const [loggedIn, toggleLogin] = React.useState(false)\r\n  const [isInfoPopupOpen, toggleInfoPopup] = React.useState(false)\r\n  const [popupStatus, togglePopupStatus] = React.useState(false)\r\n  const [accountData, setAccountData] = React.useState({})\r\n  const history = useHistory()\r\n\r\n  React.useEffect(() => {\r\n    if (localStorage.getItem('jwt')) {\r\n      mestoAuth.checkToken(localStorage.getItem('jwt'))\r\n      .then(res => {\r\n        toggleLogin(true)\r\n        history.push('/')\r\n        setAccountData(res.data)\r\n      })\r\n      .catch(err => {\r\n        console.error(err)\r\n        history.push('/sign-in')\r\n      })\r\n    }\r\n  }, [loggedIn])\r\n\r\n  function handleInfoPopupWithStatus(status=false) {\r\n    toggleInfoPopup(true)\r\n    togglePopupStatus(status)\r\n  }\r\n\r\n  function handlePopupClose() {\r\n    toggleInfoPopup(false)\r\n  }\r\n\r\n  function handleLoginSubmit(email, setEmail, password, setPassword) {\r\n    mestoAuth.login(email, password)\r\n    .then(data => {\r\n      toggleLogin(true)\r\n      handleInfoPopupWithStatus(true)\r\n      setEmail('')\r\n      setPassword('')\r\n      localStorage.setItem('jwt', data.token)\r\n    })\r\n    .catch(err => {\r\n      console.error(err)\r\n      handleInfoPopupWithStatus(false)\r\n      setPassword('')\r\n    })\r\n  }\r\n\r\n  function handleRegisterSubmit(email, setEmail, password, setPassword){\r\n    mestoAuth.register(email, password)\r\n      .then(data => {\r\n        handleInfoPopupWithStatus(true)\r\n        setEmail('');\r\n        setPassword('')\r\n\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        handleInfoPopupWithStatus(false)\r\n        setPassword('')\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className=\"common\" >\r\n      <div className=\"page\">\r\n        <Header loggedIn={loggedIn} onSignOut={toggleLogin} data={accountData} />\r\n        <Switch>\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Login  \r\n              onSubmit={handleLoginSubmit}\r\n              status={popupStatus}\r\n              isPopupOpen={isInfoPopupOpen}\r\n              onPopupClose={handlePopupClose} />\r\n          </Route>\r\n          \r\n          <Route path=\"/sign-up\">\r\n            <Register\r\n              onSubmit={handleRegisterSubmit}\r\n              status={popupStatus}\r\n              isPopupOpen={isInfoPopupOpen}\r\n              onPopupClose={handlePopupClose} />\r\n          </Route>\r\n\r\n          <ProtectedRoute\r\n            component={Content}\r\n            path=\"/\"\r\n            loggedIn={loggedIn}\r\n          />\r\n    \r\n          <Route path='/'>\r\n            {loggedIn ? <Redirect to='/' /> : <Redirect to=\"/sign-in\" />}\r\n          </Route>\r\n\r\n        </Switch>\r\n        \r\n      </div>\r\n   </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter} from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}